<div style="width: 100%;height: 100%;" id="approvedetail">
	<div style="display: block;height: 100%;" data-bind="visible:alldetail">
		<!--title-->
		<div style="background-color: #F8F8F8;width: 100%;height: 44px;text-align: center;display: table;border-bottom: 1px solid #e2e2e2;">
			<span  data-bind="event:{tap:back}" style="position: absolute;left: 0px;line-height: 44px;padding:0px 15px;">
				<img src="img/backyellow.png" style="vertical-align: middle;width: 9px;height: 15px;">
			</span>
			<span style="vertical-align: middle;display: table-cell;font-size: 17px;color: #222;">
				<span data-bind="text:billtypename"></span>
			</span>
		</div>
		<div data-bind="style:{height:(swipeindex() == 1 || (swipeindex() == 3&&state() == 'run') || swipeindex() == 2)?'calc(100% - 94px)':'calc(100% - 44px)'}" style="height: calc(100% - 94px);overflow-y: scroll;" class="detailbody">
			
			<!--表头栏目 -->
			<div class="scroll">
				<span  data-bind="foreach:headcontent">
					<a data-bind="text:title,css:{scrollitemchecked:active=='true'},event:{tap:$root.headshowitemclick}" class="scrollitem ellipsis"></a>
				</span>
				<a data-bind="event:{tap:fileclick}" class="scrollitem ellipsis">附件(<span data-bind="text:filecount"></span>)</a>
			</div>
			
			<div style="width: 100%;">
				<!--表头列表-->
				<ul class="headdatailul">
					<!--用来显示前五条-->
					<div  data-bind="foreach:headcontentdata">
						<li style="font-size: 12px;padding-bottom: 5px;">
							<span style="float:left;width: 30%;color: #4d4d4d;overflow: hidden;" class="ellipsis">
								<span data-bind="text:colname"></span>: 
							</span>
							<span data-bind="text:colvalue" style="float:left;color: #999;width: calc(68% - 40px);overflow: hidden;float:left;"></span>
							<span data-bind="visible:$index() == 0&&$root.headcontentdatamore().length>0,event:{tap:$root.moreshowclick}" style="float: right;padding-right: 18px;padding-left: 10px;"><img style="height: 7px;width: 11px;" src="img/down.png" data-bind="style:{'-webkit-transform':$root.headmoredatashow()?'rotate(180deg)':'rotate(0deg)'}"/></span>
						</li>
					</div>
					<!--用来显示更多-->
					<div  data-bind="foreach:headcontentdatamore,visible:headmoredatashow()">
						<li style="font-size: 12px;padding-bottom: 5px;">
							<span style="float:left;width: 30%;color: #4d4d4d;overflow: hidden;" class="ellipsis">
								<span data-bind="text:colname"></span>: 
							</span>
							<span data-bind="text:colvalue" style="float:left;color: #999;width: calc(68% - 40px);overflow: hidden;" class="ellipsis"></span>
						</li>
					</div>
				</ul>
				<div style="height: 12px;width: 100%;background-color: #f9f9f9;border-bottom: 1px solid rgba(153,153,153,.2);border-top: 1px solid rgba(153,153,153,.2);"></div>
				
				<!--表体栏目-->
				<div class="scroll" data-bind="foreach:bodycontent">
					<a data-bind="css:{scrollitemchecked:active=='true'},event:{tap:$root.bodyshowitemclick}" class="scrollitem"  style="max-width: 120px;">
						<span data-bind="text:title" class="ellipsis" style="max-width: 100px;overflow: hidden;float: left;"></span>
						<span>
							(<span data-bind="text:datacount"></span>)
						</span>
					</a>
				</div>
				<!--表体列表-->
				<div style="background-color: #fff;overflow:hidden;">
					<!--表体公共信息-->
					<div style="width: 100%;margin-bottom: 15px;" data-bind="visible:bodyhead().length>0">
						<ul data-bind="foreach:bodyhead" style="padding: 5px 8px 5px 0px;margin: 0px 10px;float: left;border-bottom: 1px solid #f0f0f0;width: 100%;">
							<li style="width: 50%;float: left;font-size: 12px;line-height: 27px;padding-left: 5px;">
								<span data-bind="text:colname" style="color: #4d4d4d;float: left;overflow: hidden;max-width: 48%;" class="ellipsis"></span>
								<span style="float: left;color: #4d4d4d;">:</span>
								<span data-bind="text:colvalue" style="color: #999;float: left;overflow: hidden;max-width: 48%;" class="ellipsis"></span>
							</li>
						</ul>
						<div style="clear: both;"></div>
					</div>
					<!--列名-->
					<div class="bodytitlediv" style="position: relative;">
							<div data-bind="event:{tap:changbodyshow},style:{transform:$root.bodydataisshow()?'rotate(180deg)':'rotate(0deg)'}" style="padding-left:15px;float: right;position: absolute;padding-right: 15px;right: 0px;"><img src="img/down.png" style="width: 11px;height: 7px;"></div>
							<!--ko foreach:tabtitle-->
  								<span class="ellipsis" data-bind="text:colname,style:{width:width}" style="float: left;overflow: hidden;" ></span>
  							<!--/ko-->
							
					</div>
					<!--表体数据-->
					<ul data-bind="foreach:{data:bodycontentdata,as:'bodydata'},visible:bodydataisshow" class="tablebodyul">
						<li data-bind="event:{tap:$root.bodydetail.bind($data,$index)},foreach:bodydata" class="bodyli">
							<span data-bind="text:index == 0?(rowindex+'.'+colvalue):colvalue,style:{'width':width}"></span>
						</li>
					</ul>
				</div>
				<!--审批记录-->
				<div style="height: 31px;line-height: 31px;width: 100%;background-color: #f9f9f9;border-bottom: 1px solid #f0f0f0;border-top: 1px solid #f0f0f0;font-size: 15px;color: #474747;">
					<span style="margin-left: 15px;">审批记录(<span data-bind="text:checkhistory().length"></span>)</span>
				</div>
				<div style="width: 100%;background-color: #fff;padding-top: 10px;padding-bottom: 10px;">
					<ul id="historyul" data-bind="foreach:checkhistory">
						<li style="margin-top: 4px;">
							<div>
								<div style="float: left;margin-left: 15px;">
									<img data-bind="attr:{src:headimg}" style="height: 36px;width: 36px;border-radius: 18px;" />
								</div>
								<div style="float: left;width: calc(100% - 51px);">
									<div style="float: left;width: 55%;">
										<div style="line-height: 12px;font-size: 12px;padding-top: 2px;width: 130px;">
											<span data-bind="text:approveUserName" style="margin-left: 7px;"></span>
											<span data-bind="text:approveState,style:{color:actioncolor}" style="float:right;"></span>
										</div>
										<div style="line-height: 10px;font-size: 10px;padding-top: 10px;color: #696969;">
											<span data-bind="text:approveComment" style="margin-left: 7px;"></span>
										</div>
									</div>
									<div style="float: left;width: 45%;text-align: right;">
										<span style="margin-right:15px;line-height: 36px;font-size: 12px;color: #999;" data-bind="text:approveDatetime"></span>
										<span style="margin-right:15px;line-height: 36px;font-size: 12px;color: #999;" data-bind="text:activityName"></span>
									</div>
								</div>
								<div style="clear: both;"></div>
							</div>
							<div style="width: 1px;height: 25px;background-color: #588ac9;margin-left: 33px;"></div>
						</li>
					</ul>
				</div>
			</div>

		</div>
		<!--按钮区域-->
		<div>
			<div data-bind="visible:swipeindex() == 1" class="approvelablegroup approvelablegroupchecked" style="display: none;">
				<div data-bind="event:{touchend:actionclick.bind($data,1)}" class="approvelable">驳回</div>
				<div class="approveline"></div>
				<div data-bind="event:{touchend:actionclick.bind($data,6)}" class="approvelable">改派</div>
				<div class="approveline"></div>
				<div data-bind="event:{touchend:actionclick.bind($data,2)}" class="approvelable">不同意</div>
				<div class="approveline"></div>
				<div data-bind="event:{touchend:actionclick.bind($data,3)}" class="approvelable">
					<img src="img/correct.png" style="width: 16px;height: 12px;"/>
					<span>同意</span>
				</div>
			</div>
			<div data-bind="visible:swipeindex() == 2" class="approvelablegroup approvelablegroupchecked" style="display: none;">
				<div data-bind="event:{touchend:actionclick.bind($data,5)}" class="approvelablegroup approvebuttonchecked">弃审</div>
			</div>
			<div data-bind="visible:titleindex() == 2 && swipeindex() == 3&& state() == 'run'" style="position: fixed;bottom: 0px;height: 50px;width: 100%;background-color: #ededed;text-align: center;">
				<div data-bind="event:{touchend:actionclick.bind($data,4)}" class="approvelablegroup approvebuttonchecked">收回</div>
			</div>
		</div>
	</div>
	<!--表体详情-->
	<div data-bind="visible:bodydetailisshow" style="display: none;background-color: #f6f6f6;height: 100%;width: 100%;position: absolute;top: 0px;">
		<div style="background-color: #F8F8F8;width: 100%;height: 44px;text-align: center;display: table;border-bottom: 1px solid #e2e2e2;position: fixed;z-index: 10;">
			<span  data-bind="event:{tap:closebodydetail}" style="position: absolute;left: 0px;line-height: 44px;padding:0px 15px;">
				<img src="img/backyellow.png" style="vertical-align: middle;width: 9px;height: 15px;">
			</span>
			<span style="vertical-align: middle;display: table-cell;font-size: 17px;color: #222;">
				<span data-bind="text:bodydetailtitle"></span>
			</span>
		</div>
		<div id="scrolldiv" style="padding: 64px 18px 20px;">
			<div id="bodyhead"  style="background-color: #fff;font-size: 14px;padding-bottom: 20px;box-shadow: 0px 2px 5.7px 0.3px rgba(103, 103, 103, 0.1);">
				<div style="height: 50px;">
					<div style="float: left;margin-left: 65px;height: 1px;background-color: #FFCAA7;width: calc(50% - 100px);margin-top: 25px;margin-right: 5px;"></div>
					<div style="float: left;color: #FF7A21;line-height: 50px;">明细信息</div>
					<div style="float: left;margin-right: 65px;height: 1px;background-color: #FFCAA7;width: calc(50% - 100px);margin-top: 25px;margin-left: 5px;"></div>
				</div>
				<ul class="bodyinfoul" data-bind="foreach:bodydetailhead">
					<li><span class="columnspan" data-bind="text:colname"></span><span>:</span><span class="valuespan" data-bind="text:colvalue"></span></li>
				</ul>
			</div>
			<ul class="bodydetailul" data-bind="foreach:{data:allbodydetail,as:'bodydetail'}">
				<li style="position: relative;background-color: #fff;margin-top: 20px;box-shadow: 0px 2px 5.7px 0.3px rgba(103, 103, 103, 0.1);">
					<div style="position: absolute;top: 0px;left: 0px;background-image: url(img/righttop.png);background-size: contain;background-repeat: no-repeat;width: 45px;height: 45px;">
						<div data-bind="text:$index()+1" style="font-size: 12px;color: #fff;margin-top: 2px;margin-left: 3px;"></div>
					</div>
					<ul data-bind="foreach:bodydetail.data" style="padding: 30px 0px 10px 40px;line-height: 24px;font-size: 14px;">
						<li>
							<div><span data-bind="text:colname" style="color: #5f5f5f;"></span>: <span data-bind="text:colvalue" style="color: #939393;"></span></div>
						</li>
					</ul>
					<div data-bind="visible:bodydetail.gatherdata.length>0">
						<div style="float: left;width: 7px;height: 15px;"><img style="width: 100%;" src="img/leftarea.png"></div>
						<div style="float: left;height: 15px;width: calc(100% - 14px);padding-left: 2px;padding-right: 2px;background-color: #fff;"><img style="width: 100%;height: 100%;" src="img/points.png"/></div>
						<div style="float: left;width: 7px;height: 15px;"><img style="width: 100%;" src="img/rightarea.png"/></div>
					</div>
					<ul data-bind="visible:bodydetail.gatherdata.length>0,foreach:bodydetail.gatherdata" style="padding: 20px 0px 10px 40px;line-height: 24px;font-size: 14px;">
						<li>
							<div><span data-bind="text:colname" style="color: #5f5f5f;"></span>: <span data-bind="text:colvalue" style="color: #939393;"></span></div>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
	<!--附件列表-->
	<div data-bind="visible:attachListisshow,event:{tap:attachListhide}" style="width: 100%;height: calc(100% - 82px);background-color: rgba(0,0,0,.55);position: absolute;top: 82px;">
		<ul class="attachlistul" data-bind="foreach:attachListdata">
			<li>
				<span data-bind="text:name" style="color: #646464;"></span>
				<span style="color: #b4b4b4;">(<span data-bind="text:size" ></span>)</span>
				<span data-bind="event:{tap:$root.fileitemclick}" class="openbtn">打开</span>
			</li>
		</ul>
	</div>
	<!--审批意见输入框-->
	<div data-bind="visible:actionisshow(),event:{tap:actionisshow(false)}" style="position: absolute;top: 0px;width: 100%;height: 100%;background-color: rgba(0,0,0,.52);z-index:10;display: none;">
		<div data-bind="event:{tap:stopevent}" style="width: 300px;height: 295px;margin: 100px auto 0px;background-color: #fff;border-radius: 10px;overflow: hidden;">
			<div style="width: 100%;height: 240px;padding: 17px 19px 10px;color: #474646;font-size: 15px;">
				<textarea data-bind="value:actionheadtext,valueUpdate: 'input'" style="height: 100%;border: 1px solid #e9e9e9;background-color: #F5F5F5;padding: 15px;font-size: 15px;"></textarea>
			</div>
			<div style="width: 255px;margin-left: 24px;height: 1px;background-color: #ececec;"></div>
			<div style="width: 100%;height: 54px;font-size: 15px;">
				<div data-bind="event:{tap:actionisshow(false)}" style="color:#5f5f5f;line-height:54px;float: left;width: calc((100% - 1px)/2);height: 100%;text-align: center;">取消</div>
				<div style="float: left;width: 1px;height: 100%;height: 22px;margin-top: 16px;background-color: #ECECEC;"></div>
				<div data-bind="event:{tap:actiondoclick}" style="color:#FC8230;line-height:54px;float: left;width: calc((100% - 1px)/2);height: 100%;text-align: center;">提交</div>
			</div>
		</div>
	</div>
	
	<!--驳回审批意见输入框-->
	<div data-bind="visible:bohuiactionisshow(),event:{tap:bohuiactionisshow(false)}" style="position: absolute;top: 0px;width: 100%;height: 100%;background-color: rgba(0,0,0,.52);z-index:10;display: none;">
		<div data-bind="event:{tap:stopevent}" style="width: 300px;margin: 100px auto 0px;background-color: #fff;border-radius: 10px;overflow: hidden;">
			<div style="width: 100%;height: 200px;padding: 17px 19px 0px;color: #474646;font-size: 15px;">
				<textarea data-bind="value:actionheadtext,valueUpdate: 'input'" style="height: 100%;border: 1px solid #e9e9e9;background-color: #F5F5F5;padding: 15px;font-size: 15px;"></textarea>
			</div>
			<div style="height: 30px;width: 100%;color: #5f5f5f;font-size: 14px;padding-left: 19px;line-height: 30px;">选取活动</div>
			<div style="width: 100%;padding: 0px 19px 10px;color: #474646;font-size: 15px;">
				<ul data-bind="foreach:nodelist" style="border: 1px solid #e9e9e9;background-color: #F5F5F5;padding: 15px;font-size: 15px;max-height: 240px;overflow-y: auto;">
					<div data-bind = "" style="height: 40px;">
						<img data-bind="event:{tap:$root.nodecheck},attr:{src:checked?'img/checked.png':'img/unchecked.png'}" src="img/unchecked.png" style="height: 18px;width: 18px;vertical-align: middle;margin-top: -2px;"/>
						<span data-bind="text:activityName" style="line-height: 40px;">活动一</span>	
					</div>
				</ul>
			</div>
			<div style="width: 255px;margin-left: 24px;height: 1px;background-color: #ececec;"></div>
			<div style="width: 100%;height: 54px;font-size: 15px;">
				<div data-bind="event:{tap:bohuiactionisshow(false)}" style="color:#5f5f5f;line-height:54px;float: left;width: calc((100% - 1px)/2);height: 100%;text-align: center;">取消</div>
				<div style="float: left;width: 1px;height: 100%;height: 22px;margin-top: 16px;background-color: #ECECEC;"></div>
				<div data-bind="event:{tap:actiondoclick}" style="color:#FC8230;line-height:54px;float: left;width: calc((100% - 1px)/2);height: 100%;text-align: center;">提交</div>
			</div>
		</div>
	</div>
	
	<!--发送请求之后提示框-->
	<div data-bind="visible:tipisshow,event:{tap:tipisshow(false)}" style="position: absolute;top: 0px;width: 100%;height: 100%;background-color: rgba(0,0,0,.52);z-index:10;display: none;">
		<div style="width: 270px;height: 180px;margin: 240px auto 0px;background-color: #fff;border-radius: 10px;overflow: hidden;">
			<div style="width: 100%;height: 125px;padding: 50px 19px 10px;color: #474646;font-size: 15px;text-align: center;">
				<span data-bind="text:tiptext" style="height: 100%;"></span>
			</div>
			<div style="width: 255px;margin-left: 8px;height: 1px;background-color: #ececec;"></div>
			<div style="width: 100%;height: 54px;font-size: 15px;">
				<div data-bind="event:{tap:tipisshow(false)}" style="color:#FC8230;line-height:54px;float: left;width: 100%;height: 100%;text-align: center;">确定</div>
			</div>
		</div>
	</div>
</div>